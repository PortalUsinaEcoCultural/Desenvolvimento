<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Usina Eco-Cultural</title>
    <link rel="shortcut icon" href="/Imagens/logoBranca.png" type="image/x-icon">

    <link rel="stylesheet" href="/CSS/Administrador.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!--Plugin de acessibilidade-->
    <script src="https://cdn.userway.org/widget.js" data-account="9AycmX4hek"></script>
</head>

<body>

    <!--Banner-->
    <header class="bg-light border-bottom py-3">
        <div class="container d-flex align-items-center">            
            <!-- Ícone de Página Inicial -->
            <a href="/" class="home-link text-decoration-none me-2" roboto-label="Página Inicial">
                <i class="fas fa-home fa-lg"></i>
            </a>
            
            <!-- Título do Site -->
            <h1 class="m-0"><a href="/index.html" class="text-decoration-none">Meu Site</a></h1>
            <div style="display: flex; justify-content: flex-end; align-items: center; width: 100%;">
                <i class="fa-solid fa-right-from-bracket logout-icon" onclick="logout()" title="Logout"></i>
            </div>            

        </div>
    </header>
    


    <!--Seção do usuário-->
    <main class="container my-5">
        <section class="mb-5">
            <h2 class="mb-4">Bem-vindo, (nome)!</h2>
            <div class="row align-items-center bg-white p-4 rounded shadow-sm">

                <!-- Informações do perfil -->
                <div class="col-md-6">
                    <h3 class="mb-3">Meu Perfil</h3>
                    <form id="perfil-form">
                        <div class="mb-3">
                            <label for="nome" class="form-label"><i class="fas fa-user"></i> Nome</label>
                            <input type="text" id="nome" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label"><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="email" class="form-control"  >
                        </div>
                        <div class="mb-3">
                            <label for="senha" class="form-label"><i class="fas fa-lock"></i> Senha</label>
                            <div class="input-group">
                                <input type="password" id="senha" class="form-control" 
                                    data-original="Mariana123Lopez">
                                <button type="button" id="toggle-password" class="btn-olhinho">
                                    <i class="fas fa-eye" id="password-icon"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" id="salvar-perfil" class="btn btn-save">Salvar</button>
                    </form>
                    
                    <!-- Modal de erro -->
                    <div id="error-modal" style="display: none;" class="modal">
                        <div class="modal-content">
                            <span id="close-modal" class="close">&times;</span>
                            <p id="error-message"></p>
                        </div>
                    </div>
        </section>

        <!-- Gerenciamento do site -->
        <section class="mb-5">
            <div class="p-4 bg-white rounded shadow-sm">
                <h3 class="mb-4">Gerenciamento de Conteúdo do Site</h3>
                <div class="row text-center gx-4 gy-3">
                    <div class="col-6 col-md-2">
                        <a href="/HTML/Fale_Conosco.html" class="opcoes d-block">
                            <i class="fas fa-edit fa-2x mb-3"></i>
                            <p class="m-0">Editar Site</p>
                        </a>
                    </div>
                    <div class="col-6 col-md-2">
                        <a href="#" class="opcoes d-block">
                            <i class="fas fa-images fa-2x mb-3"></i>
                            <p class="m-0">Gerenciar Galeria</p>
                        </a>
                    </div>
                    <div class="col-6 col-md-2">
                        <a href="#" class="opcoes d-block">
                            <i class="fas fa-store fa-2x mb-3"></i>
                            <p class="m-0">Sessão de Produtos</p>
                        </a>
                    </div>
                    <div class="col-6 col-md-2">
                        <a href="https://calendar.google.com/calendar/u/0/r" class="opcoes d-block" target="_blank">
                            <i class="fas fa-calendar-alt fa-2x mb-3"></i>
                            <p class="m-0">Eventos</p>
                        </a>
                    </div>
                    <div class="col-6 col-md-2">
                        <a href="#" class="opcoes d-block">
                            <i class="fas fa-newspaper fa-2x mb-3"></i>
                            <p class="m-0">Adicionar Notícias</p>
                        </a>
                    </div>
                </div>
            </div>
        </section>


        <!-- Estatísticas -->
        <section>
            <div class="p-4 bg-white rounded shadow-sm">
                <h3 class="mb-4">Estatística</h3>
                <div class="row gx-4 gy-3">
                    <!-- Gráfico 1: Acesso ao Site -->
                    <div class="col-md-4">
                        <div class="p-3 bg-light rounded shadow-sm text-center">
                            <h4 class="mb-3">Acesso ao Site</h4>
                            <canvas id="acessoGrafico" width="150" height="150"></canvas>
                        </div>
                    </div>
                    <!-- Gráfico 2: Vendas por Produto -->
                    <div class="col-md-4">
                        <div class="p-3 bg-light rounded shadow-sm text-center">
                            <h4 class="mb-3">Vendas por Produto</h4>
                            <canvas id="vendasGrafico" width="150" height="100"></canvas>
                        </div>
                    </div>
                    <!-- Informações adicionais -->
                    <div class="col-md-4">
                        <div class="p-3 bg-light rounded shadow-sm">
                            <h4 class="mb-3">Outras Informações</h4>
                            <ul class="list-unstyled">
                                <li>Visitantes no total: <span id="acesso-total"></span></li>
                                <li>Total de vendas: 57</li>
                                <li>Total de inscritos na newsletter: 44</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section> 
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const nome = localStorage.getItem("nome"); // Recupera o nome salvo no localStorage
        
            if (nome) {
                // Insere o nome no título
                const welcomeMessage = document.querySelector("h2.mb-4");
                if (welcomeMessage) {
                    welcomeMessage.textContent = `Bem-vindo, ${nome}!`; // Atualiza o texto para incluir o nome
                }
        
                // Preenche o campo de nome no formulário de perfil
                const nomeInput = document.getElementById("nome");
                if (nomeInput) {
                    nomeInput.value = nome; // Preenche o campo com o nome do usuário
                }
            } else {
                console.log("Nome não encontrado no localStorage.");
            }
        });
        
    </script>

        <!--Arquivo JavaScript-->
        <script src="/Javascript/Administrador.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!--Plugin que garante acessibilidade-->
        <div vw class="enabled">
            <div vw-access-button class="active"></div>
            <div vw-plugin-wrapper>
                <div class="vw-plugin-top-wrapper"></div>
            </div>
        </div>
        <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
        <script>
            new window.VLibras.Widget('https://vlibras.gov.br/app');
        </script>
        <script src="/login.js"></script>

</body>

</html>